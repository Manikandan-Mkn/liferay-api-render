# Use the official Liferay DXP image as the base image
FROM liferay/dxp:7.4.13-u80

# Copy your custom configurations (if any)
COPY configs/ /opt/liferay/

# Create the deploy directory
RUN mkdir -p /opt/liferay/deploy

# Copy built modules and themes
COPY deploy/modules/*.jar /opt/liferay/deploy/
COPY deploy/wars/*.war /opt/liferay/deploy/

# Expose the default Liferay port
EXPOSE 8080

# Start Liferay
CMD ["catalina.sh", "run"]