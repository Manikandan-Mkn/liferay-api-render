# Use the official Liferay DXP image as the base image
FROM liferay/dxp:7.4.13-u80

# Copy your custom configurations (if any)
COPY configs/ /opt/liferay/

# Create the deploy directory if it doesn't exist
RUN mkdir -p /opt/liferay/deploy

# Copy your modules and WAR files (if they exist)
COPY modules/*.jar /opt/liferay/deploy/
COPY wars/*.war /opt/liferay/deploy/

# Expose the default Liferay port
EXPOSE 8080

# Start Liferay
CMD ["catalina.sh", "run"]